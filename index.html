<!DOCTYPE html>
<html lang="en">
<head>
<title>Mark Tyrkba (rakivo) - Portfolio</title>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="apple-touch-icon" sizes="180x180" href="./assets/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon-16x16.png">

<link href="https://cdn.jsdelivr.net/npm/prismjs@1.30.0/themes/prism.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.30.0/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.30.0/components/prism-rust.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.30.0/components/prism-asm.min.js"></script>

<script>
Prism.languages.ninja = {
  'comment': /#.*/,
  'keyword': /\b(build|rule|phony|default)\b/,
  'variable': /\$\w+/,
  'string': /".*?"/
};
Prism.languages.brik = {
  'comment': /;.*/,
  'keyword': /\b(?:text|rodata|data|bss|section|extern|extrn|global|globl|space|string|stringzj|ascii|asciiz|include|word|hword)\b/i,
  'number': /\b(?:0x[a-fA-F0-9]+|\d+)\b/,
  'operator': /[+\-*/=<>!&|]/,
  'punctuation': /[:,]/,
  'label': {
    pattern: /^[a-zA-Z_]\w*(?=:)/m,
    alias: 'function'
  },
  'directive': {
    pattern: /^\s*\.\w+/m,
    alias: 'keyword'
  },
  'string': /"(?:\\.|[^"\\])*"/
};
</script>

<style>
  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: "SF Pro", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background-color: #f5f5f7;
    color: #1c1c1e;
    max-width: 900px;
    margin: auto;
    padding: 2em;
    line-height: 1.6;
  }

  h1 {
      font-family: "SF Pro Display", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-weight: 250;
      font-size: 2.5em;
      letter-spacing: -0.5px;
      color: #1c1c1e;
      margin-top: 0.5em;
      margin-bottom: 0.3em;
  }

  h2 {
      font-family: "SF Pro Display", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-weight: 600;
      font-size: 1.8em;
      letter-spacing: -0.3px;
      color: #1c1c1e;
      margin-top: 1.5em;
      margin-bottom: 0.5em;
  }

  h3 {
      font-family: "SF Pro Display", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-weight: 600;
      font-size: 1.3em;
      letter-spacing: -0.2px;
      color: #1c1c1e;
      margin-top: 1em;
      margin-bottom: 0.3em;
  }

  a {
    color: #007aff;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  hr {
    border: none;
    border-top: 1px solid #d1d1d6;
    margin: 2em 0;
  }

  section {
    margin-bottom: 3em;
  }

  .anchor-link {
    text-decoration: none;
    color: inherit;
    margin-left: 8px;
  }

  .project {
    margin-bottom: 2em;
    padding: 0;
    border-bottom: 1px solid #d1d1d6;
  }

  .placeholder {
    color: #8e8e93;
    font-style: italic;
  }

  .placeholder a {
    color: #0051a8;
  }

  .toggle-button {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    color: #1c1c1e;
    font-weight: 500;
    font-size: 0.95em;
    user-select: none;
    margin: 0.5em 0;
  }

  .toggle-button::before {
    content: "▶";
    display: inline-block;
    margin-right: 0.4em;
    transition: transform 0.3s ease;
    font-size: 0.85em;
  }

  .toggle-button.open::before {
    transform: rotate(90deg);
  }

  .demo-video {
    width: 100%;
    max-width: 890px;
    height: auto;
    display: block;
    margin: 0 auto;
  }

  .content {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.3s ease, opacity 0.3s ease;
  }

  .content.open {
    overflow: visible;
  }

  .project-link {
    color: #007aff;
    font-weight: 600;
    text-decoration: none;
  }

  .project-link:hover {
    text-decoration: underline;
  }

  ul, ol {
      list-style: none;
      padding-left: 0;
      margin-left: 0;
  }

  li::before {
    content: "-";
    color: #1c1c1e;
    display: inline-block;
    width: 1em;
    margin-left: -1em;
  }

  .subtitle {
    color: #8e8e93;
    font-weight: normal;
    font-size: 0.9em;
  }

  #about-me p {
    margin-bottom: 1.5em;
  }

  pre {
    background: #f5f5f7;
    padding: 1em 0;
    font-family: "SF Mono", monospace;
    overflow-x: auto;
    font-size: 0.95em;
    margin-top: 0.5em;
  }

  p, li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }

  .video-wrapper {
    position: relative;
    padding-top: 56.25%;
  }
  .video-wrapper iframe {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
  }
</style>
</head>
<body>

<header>
<h1>Mark Tyrkba (rakivo)</h1>
<p><strong>Email:</strong> <a href="mailto:marktyrkba456@gmail.com" target="_blank">marktyrkba456@gmail.com</a></p>
<p><strong>GitHub:</strong> <a href="https://github.com/rakivo" target="_blank">github.com/rakivo</a></p>
<p><strong>Codeberg:</strong> <a href="https://codeberg.org/rakivo" target="_blank">https://codeberg.org/rakivo</a></p>
</header>

<hr>

<section id="about-me">
  <h2 id="about-me">
    <a href="#about-me" class="anchor-link">About Me</a>
  </h2>
  <p>
    I'm a self-taught 17-year-old systems programmer and compiler enthusiast building low-level, high-performance software.
  </p>
  <p>
    My work includes compilers, virtual machines, custom SSA-based IRs, bytecode formats, version control systems,

    <a href="https://github.com/rakivo/rawgrep" target="_blank" rel="noopener noreferrer" class="project-link">
      fastest greps in the world
    </a>

    and other performance-critical applications — but really, if you think about it, what program's performance isn't critical?
  <p>
  <p>
    In a world of people never diving deep and performance being treated as an optional feature, I will always try my absolute best
    to make my programs as fast as I can — with the defaults being as intuitive as possible while keeping the program easy to download
    and/or compile from scratch. Of course, I'm nowhere near as skilled as people like Jonathan Blow,
    Casey Muratori, Shawn Barrett, Alan Webster, Vjekoslav Krajačić and other absolutely legendary engineers but I do and I will continue
    doing everything I can to one day be as knowledgeable and experienced as them.
  </p>
    The poor state of software today is what drives this work. Every day I use modern software I encounter more and more bugs
    — it's devastating how far quality standards have fallen in this industry. Thousands of people AI-generating their programs just to pollute
    the internet with even more buggy and unstable software.

    But I hope that in contrast, genuinely high quality software will become more and more noticeable.
    A good example of that is File Pilot — people were shocked that it's a single 2MB executable, and how fast and snappy it feels.
  </p>
  <p>
    Make software great again!
  </p>
</section>

<hr>

<section id="highlight-projects">
<h2>
  <a href="#highlight-projects" class="anchor-link">Highlight Projects</a>
</h2>

<div class="project">
  <h3>
    1. The
    <a href="https://github.com/rakivo/rok" target="_blank" rel="noopener noreferrer" class="project-link">
      rok
    </a> language Compiler <span class="subtitle">planned public release in H1 2026.</span>
  </h3>
  <p>
      A compiler written in Rust from completely scratch, featuring custom SSA IR, bytecode, type inference,
polymorph solver, register machine, and an extremely flexible pipeline for insane meta-programming.
  </p>

  <p>
      Every single piece of user code can execute at compile time and communicate with the compiler with NO exceptions.
  <p>

  <!-- ValuePool Demo -->
  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide ValuePool — Generic Memory Pool</div>
  <div class="content">
    <p>
      A generic memory pool for storing lists of any type <code>T</code>.
      Uses a handle-based API for indirection, power-of-two capacity rounding,
      and interprets raw memory slots as <code>u32</code> length headers.
    </p>
    <pre><code class="language-rust">
INVALID_HANDLE : u32 : 0xFFFFFFFF;

// A lightweight handle into a ValuePool — just a u32 index.
// Parameterized on T for type safety at compile time.
EntityList :: struct (T: Type) {
    handle: u32;
}

// A memory pool for storing lists of T.
// Layout per allocation: [length_as_T, elem0, elem1, ..., padding to next power of 2]
ValuePool :: struct (T: Type) {
    data: [..] T;
}

// Allocate a new list inside the pool, returns a typed handle.
alloc_list :: (pool: *ValuePool($T), elements: [] T) -> EntityList(T) {
    #if size_of(T) < size_of(u32) {
        #run panic("size_of(T) in ValuePool(T) must be >= 4 bytes!");
    }

    count    := elements.len as u32;
    needed   := 1 + count;
    capacity := next_power_of_two(needed);

    // The handle points just past the length slot
    element_start := (pool.data.len + 1) as u32;

    array_ensure_capacity(*pool.data, pool.data.len + capacity as _);

    // Write the element count by reinterpreting the next T slot as *u32
    length_ptr := *pool.data[pool.data.len] as *u32;
    length_ptr.* = count;
    pool.data.len += 1;

    for elements  array_add(*pool.data, it);

    // Pad to power-of-two boundary
    zero: T;
    for 0..capacity - needed  array_add(*pool.data, zero);

    list: EntityList(T);
    list.handle = element_start;
    return list;
}

// Retrieve a slice view into the pool — zero-copy, no allocation.
get_list :: (pool: *ValuePool($T), list: EntityList(T)) -> [] T {
    if list.handle == INVALID_HANDLE {
        result: [] T;
        return result;
    }

    length_ptr := *pool.data[list.handle - 1] as *u32;

    result: [] T;
    result.data = *pool.data[list.handle] as *T;
    result.len  = length_ptr.* as _;
    return result;
}

main :: () {
    pool: ValuePool(u32);
    defer free_pool(*pool);

    list := alloc_list(*pool, u32.[10, 20, 30, 40, 50]);

    values := get_list(*pool, list);
    for values  print("  %\n", it);
}

#import "std.rok";
    </code></pre>
  </div>

  <!-- Raylib Demo -->
  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide Asteroids — Raylib Demo</div>
  <div class="content">
    <p>
      A full Asteroids game written in rok using Raylib — entities, particles, collisions, audio, and a game loop, all in rok's syntax.
      Below are the most interesting excerpts.
    </p>
    <p>Structs & constants — typed, zero-init, enum tiers:</p>
    <pre><code class="language-rust">
Asteroid_Tier :: enum {
    LARGE :: 0;
    MED   :: 1;
    SMALL :: 2;
}

Player :: struct {
    pos := #run vec2(SCREEN_W / 2.0, SCREEN_H / 2.0);
    vel: Vector2;
    angle := 0.0;
    alive := true;
}

Asteroid :: struct {
    pos:    Vector2;
    vel:    Vector2;
    radius: f32;
    tier:   Asteroid_Tier;
    seed:   u64;
}

ExplosionParticle :: struct {
    pos:      Vector2;
    vel:      Vector2;
    life:     f32;
    max_life: f32;
    size:     f32;
}

COLOR_BG       :: Color.{ r = 12,  g = 12,  b = 22  };
COLOR_PLAYER   :: Color.{ r = 220, g = 230, b = 255 };
COLOR_THRUST   :: Color.{ r = 255, g = 180, b = 60  };
COLOR_GAMEOVER :: Color.{ r = 255, g = 80,  b = 80  };
    </code></pre>

    <p>Explosion emitter — per-tier particle burst with randomized speed, life, and size:</p>
    <pre><code class="language-rust">
emit_explosion :: (particles: *[..] ExplosionParticle, pos: Vector2, tier: Asteroid_Tier, rng: *u64) {
    count: i32;
    life:  f32;
    speed: f32;

    if      tier == .LARGE { count = 45; life = 1.1;  speed = 280.0; }
    else if tier == .MED   { count = 28; life = 0.85; speed = 200.0; }
    else                   { count = 16; life = 0.6;  speed = 140.0; }

    for i: 0..count {
        angle  := rand_range(rng, 0.0, PI * 2.0);
        spd    := rand_range(rng, speed * 0.25, speed);
        life_j := rand_range(rng, life * 0.6, life);
        size   := rand_range(rng, 2.5, 6.5);

        array_add(particles, .{
            pos      = pos,
            vel      = vec2(cosf(angle) * spd, sinf(angle) * spd),
            life     = life_j,
            max_life = life_j,
            size     = size
        });
    }
}
    </code></pre>

    <p>Explosion draw — fire-to-white color animation driven by <code>life / max_life</code>:</p>
    <pre><code class="language-rust">
draw_explosion_particles :: (particles: *[..] ExplosionParticle) {
    for * particles {
        frac  := it.life / it.max_life;
        alpha := (frac * 255.0) as u8;

        r: u8 = 255;
        g: u8 = 0;
        b: u8 = 0;

        if frac > 0.7 {
            t := (frac - 0.7) / 0.3;
            g = (255.0 * t) as u8;
            b = (240.0 * t) as u8;
        } else if frac > 0.4 {
            t := (frac - 0.4) / 0.3;
            g = (220.0 * t + 80.0 * (1.0 - t)) as u8;
        } else {
            t := frac / 0.4;
            g = (80.0 * t) as u8;
        }

        color := Color.{ r = r, g = g, b = b, a = alpha };
        DrawCircleV(it.pos, it.size * frac, color);

        if frac > 0.5 {
            glow_alpha := ((frac - 0.5) * 2.0 * 100.0) as u8;
            glow_color := .{ r = 255, g = 200, b = 80, a = glow_alpha };
            DrawCircleV(it.pos, it.size * frac * 2.2, glow_color);
        }
    }
}
    </code></pre>

    <p>Main loop — <code>defer EndDrawing()</code>, smooth thrust audio fade, and twinkling stars:</p>
    <pre><code class="language-rust">
while !WindowShouldClose() {
    dt   := GetFrameTime();
    time := GetTime() as f32;

    // Smooth thrust audio volume interpolation
    speed := THRUST_FADE_OUT;
    if thrusting_and_alive  speed = THRUST_FADE_IN;
    thrust_volume += (thrust_target_vol - thrust_volume) * speed * dt;
    SetSoundVolume(thrust_sound, thrust_volume);

    if thrust_volume < 0.01 && IsSoundPlaying(thrust_sound) {
        StopSound(thrust_sound);
    }

    update_player(*player, dt);
    update_bullets(*bullets, dt);
    update_asteroids(*asteroids, dt);
    update_thrust_particles(*thrust_particles, dt);
    update_explosion_particles(*explosions, dt);
    update_stars(*stars, dt);

    points := check_bullet_asteroid(*bullets, *asteroids, *explosions, *state.rng_state);
    if points > 0  state.score += points;

    BeginDrawing();
    defer EndDrawing();

    ClearBackground(COLOR_BG);
    draw_stars(*stars, time);          // twinkle via sinf(time + phase)
    draw_asteroid_trails(*asteroid_trails);
    draw_explosion_particles(*explosions);
    draw_thrust_particles(*thrust_particles);
    draw_asteroids(*asteroids);
    draw_bullets(*bullets);
    draw_player(*player);
    draw_hud(*state);
}

#import "std.rok";
#import "math.rok";
#import "raylib.rok";
#import "dynamic_array.rok";
    </code></pre>
  </div>

  <!-- Dynamic Arrays & String Builder Demo -->
  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide Dynamic Arrays & String Builder Demo</div>
  <div class="content">
    <p>
      Demonstrates Dynamic arrays with automatic growth, insertion, and removal operations.
      String builders with type-aware formatting and printf-style syntax.
      All powered by compile-time generics that specialize for each type.
    </p>
    <pre><code class="language-rust">
  // Compile-time polymorphic functions work on any type T
  array_add :: (arr: *[..] $T, value: T) {
      new_len := arr.len + 1;
      array_ensure_capacity(arr, new_len);

      ptr: *T = arr.data + (arr.len * size_of(T));
      ptr.* = value;
      arr.len = new_len;
  }

  // Safe removal returns both value and success status
  array_remove :: (arr: *[..] $T, index: u64) -> T, bool {
      ret : T;
      if index >= arr.len return ret, false;

      size :: size_of(T);
      ptr : *T = arr.data + (index * size);
      ret = ptr.*;

      count := arr.len - index - 1;
      if count > 0 memmove(ptr, ptr + size, count * size);

      arr.len -= 1;
      return ret, true;
  }

  String_Builder :: struct {
      inner: [..] u8;
  }

  sb_append :: (sb: *String_Builder, n: i32)    { sb_append_integer(sb, n); }
  sb_append :: (sb: *String_Builder, n: f64)    { sb_append_float(sb, n); }
  sb_append :: (sb: *String_Builder, s: string) { sb_append_string(sb, s); }

  // Printf-style formatting with variadic Any
  sb_print :: (sb: *String_Builder, fmt: string, args: ..Any) {
      i := 0;
      arg_index := 0;
      while i < fmt.len {
          if fmt[i] == '%' && i + 1 < fmt.len && fmt[i + 1] != '%' {
              if arg_index < args.len {
                  sb_append_any(sb, args[arg_index]);
                  arg_index += 1;
              }
              i += 1;
          } else {
              sb_append_byte(sb, fmt[i]);
              i += 1;
          }
      }
  }

  main :: () {
      sb: String_Builder;
      defer sb_free(*sb);

      sb_append(*sb, "Temperature: ");
      sb_append(*sb, 98.6);
      sb_print(*sb, "User % scored % points\n", "Alice", 1337);

      print("%", sb_to_string(*sb));
  }

  #import "std.rok";
    </code></pre>
  </div>

  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide Build meta-programming demo</div>
  <div class="content">
    <p>
      A meta-program that runs at compile-time, registers and manages build options to compile the raylib demo from above.
    </p>
    <pre><code class="language-rust">
#run {
    opts : Build_Options;

    opts.do_output = false;
    array_add(*opts.build_files, "examples/triangle.rok");
    array_add(*opts.link_libs, "raylib");
    array_add(*opts.link_libs, "m");

    ok := set_build_options(*opts);

    if !ok panic("couldn't set build options!! exiting..\n");
};

#import "std.rok";
    </code></pre>
  </div>

  <p class="placeholder">
    Currently in a private repository; planned public release in H1 2026.
  </p>
  <p class="placeholder">Demo video/GIF will go here soon</p>
</div>

<div class="project">
  <h3>
    2.
    <a href="https://github.com/rakivo/rawgrep" target="_blank" rel="noopener noreferrer" class="project-link">
      rawgrep
    </a> — The Fastest Grep in the World
  </h3>
  <p>
    A Rust tool that searches text by reading filesystems <em>directly from raw block devices</em>, completely bypassing the kernel's VFS layer, page cache, and filesystem overhead.
    Uses aggressive work-stealing parallelism that automatically load-balances across all CPU cores,
    making it faster than <a href="https://github.com/BurntSushi/ripgrep" target="_blank" rel="noopener noreferrer" class="project-link">ripgrep</a> on real workloads.
    Requires only <code>CAP_DAC_READ_SEARCH</code> — no full root access. Currently supports ext4 on Linux.
  </p>

  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide Demo</div>
  <div class="content">
    <p>Basic usage:</p>
    <pre><code class="language-rust">
# Search current directory
rawgrep "error"

# Regex patterns
rawgrep "error|warning|critical" .

# Filtering levels:
# Default: respects .gitignore, skips binaries and large files (> 5 MB)
rawgrep "pattern"
rawgrep "pattern" -u     # ignore .gitignore
rawgrep "pattern" -uu    # also search binary files
rawgrep "pattern" -uuu   # search everything, including large files

# Specify device manually (auto-detected by default)
rawgrep "pattern" /home --device=/dev/sda1

# Print match statistics
rawgrep "pattern" . --stats
    </code></pre>

    <p class="placeholder">Tap on the video to fullscreen</p>
    <video class="demo-video" autoplay loop muted playsinline>
      <source src="./assets/rawgrep.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
</div>

<div class="project">
  <h3>
    3.
    <a href="https://github.com/rakivo/brik-asm" target="_blank" rel="noopener noreferrer" class="project-link">
      brik-asm
    </a> — RISC-V Assembler
    &
    <a href="https://github.com/rakivo/brik" target="_blank" rel="noopener noreferrer" class="project-link">
      brik
    </a> — Object file building library
  </h3>
  <p>
A Rust library providing a Cranelift-like SSABuilder API for building RISC-V object files, including custom sections, instructions, relocations, and more.
Emphasizes performance: cache-friendly memory layout and parsing accelerated via SSE2, AVX2, AVX512BW on x86-64 and Neon on AArch64.
Runs in QEMU emulator.
  </p>

  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide Code Examples & Demos</div>
  <div class="content">
    <pre><code class = "language-brik">
.include "std"

.text
.extern printf
.global main

main:
    prologue

    ; t0 = 69
    li      t0, 69
    printf1 fmt1, t0      ; prints: "t0 = 69"

    ; t1 = -t0
    li      t0, 69
    neg     t1, t0
    printf1 fmt2, t1      ; prints: "neg(t0) = -69"

    ; t2 = ~t0
    li      t0, 69
    not     t2, t0
    printf1 fmt3, t2      ; prints: "not(t0) = -70"

    j done

skip:
    printf1 fmt_skip, t0
    epilogue
    reti 0

done:
    epilogue
    reti 0

.rodata
fmt1:
    .stringz "t0      = %ld\n"

fmt2:
    .stringz "neg(t0) = %ld\n"

fmt3:
    .stringz "not(t0) = %ld\n"

fmt_skip:
    .stringz "this should not print, t0=%ld\n"
    </code></pre>

  <p>
  Quick example of using `brik` to build a factorial-computing program
  </p>

    <pre><code class = "language-rust">
fn produce_factorial_obj<'a>() -> Object<'a> {
    let mut asm = Assembler::new(
        BinaryFormat::Elf,
        Arch::Riscv64,
        Endianness::Little,
        "rv64gc"
    );

    asm.set_object_flags(FileFlags::Elf {
        os_abi: 0,
        abi_version: 0,
        e_flags: 0x4,
    });

    // .rodata section for format strings
    let _rodata = asm.add_rodata_section_at_end();

    let  input_fmt_sym = asm.define_data(b"input_fmt",  b"enter a number: \0");
    let  scanf_fmt_sym = asm.define_data(b"scanf_fmt",  b"%ld\0");
    let result_fmt_sym = asm.define_data(b"result_fmt", b"factorial: %ld\n\0");

    // =================
    // external symbols
    // =================

    let printf_sym = asm.add_symbol_extern(
        b"printf",
        SymbolKind::Text,
        SymbolScope::Dynamic
    );

    let scanf_sym = asm.add_symbol_extern(
        b"scanf",
        SymbolKind::Text,
        SymbolScope::Dynamic
    );

    let text_section = asm.add_text_section_at_end();

    asm.emit_function_prologue();

    // allocate space on stack for input number (8 bytes)
    asm.emit_addi(SP, SP, -8);

    // print input prompt
    asm.emit_pcrel_load_addr(A0, input_fmt_sym, 0);
    asm.emit_call_plt(printf_sym);

    // read input number
    asm.emit_pcrel_load_addr(A0, scanf_fmt_sym, 0);
    asm.emit_addi(A1, SP, 0);
    asm.emit_call_plt(scanf_sym);

    // load input number into s1
    asm.emit_ld(S1, SP, 0);

    // init factorial result in s2 (result = 1)
    asm.emit_addi(S2, ZERO, 1);

    // init counter in s3 (i = 1)
    asm.emit_addi(S3, ZERO, 1);

    let loop_lbl = asm.add_label_here(
        b".fact_loop",
        SymbolKind::Text,
        SymbolScope::Compilation
    );

    let done_lbl = asm.declare_label(
        b".fact_done",
        SymbolKind::Text,
        SymbolScope::Compilation
    );

    // loop condition: if i > n, exit
    asm.emit_branch_to(
        done_lbl,
        // if s1 < s3 (n < i)
        BLT { s1: S1, s2: S3, im: 0 },
    );

    // result *= i
    asm.emit_bytes(MUL { d: S2, s1: S2, s2: S3 });

    // i++
    asm.emit_addi(S3, S3, 1);

    // jump back to loop
    asm.emit_branch_to(
        loop_lbl,
        JAL { d: ZERO, im: 0 },
    );

    ...

    asm.add_symbol(
        b"main",
        0,
        asm.section_size(text_section),
        SymbolKind::Text,
        SymbolScope::Dynamic,
        false,
        SymbolFlags::None
    );

    asm.finish().unwrap()
}

fn main() -> Result<(), Box<dyn error::Error>> {
    let args = env::args().collect::<Vec<_>>();

    let Some(output_path) = args.get(1) else {
        println!{
            "usage: {prog} <output.o>",
            prog = args[0]
        };
        return Ok(())
    };

    let obj = produce_factorial_obj();

    let file = fs::File::create(output_path)?;
    obj.write_stream(&file)?;

    println!("[wrote object file to {output_path}]");

    Ok(())
}
    </code></pre>
    <p class="placeholder">Demo video/GIF will go here soon</p>
  </div>
</div>

<div class="project">
  <h3>
    4.
    <a href="https://github.com/rakivo/stalkr" target="_blank" rel="noopener noreferrer" class="project-link">
      Stalkr
    </a> — language-agnostic TODO Tracker
  </h3>

  <p>
A language-agnostic Rust tool for scanning your project for TODOs and either reporting, purging, or listing them.
Heavily inspired by
<a href="https://github.com/tsoding/snitch" target="_blank" rel="noopener noreferrer" class="project-link">
    tsoding/snitch
</a>, rewritten in Rust for high performance with worker-parallelized execution.
Fully modular and host-agnostic (works with GitHub or other platforms via a pluggable API layer).
  </p>
  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide Demo</div>
  <div class="content">

  <p>
  Brief example of a tagged (reported) TODO in real code
  </p>

  <pre><code class = "language-rust">
// ...

TK::CQuote => {
    self.lexer.eat_next_token()?; // c"

    let (loc, span) = self.parse_string_literal()?;
    let src_str = span.s(&self.mo);

    let mut nul_terminated = String::with_capacity(src_str.len() + 1);
    util::unescape_string(src_str, &mut nul_terminated);

    if nul_terminated.bytes().last().is_some_and(|b| b != b'\0') {
        nul_terminated.push('\0');
    } else {
        // TODO(#252): Emit a warning if a C string literal already ends with `\0`
    }

    let str_lit_id = self.pc.new_str_lit(nul_terminated);

    Expr {
        loc,
        span,
        kind: EK::ConstStr(str_lit_id),
        ...
    }
}
  </code></pre>

    <p>
    Run <a href="https://github.com/rakivo/stalkr" target="_blank" rel="noopener noreferrer" class="project-link">Stalkr</a> on this codebase you'll see this:
    </p>

    <pre><code class = "language-rust">
[reporting mode]

[detected project]: https://github.com/rakivo/rok

[todoʼs from]: rok_frontend/src/parser.rs

1. [line 1662]: Warn if a c string literal already ends with \0

selection (e.g. 1,2; 'a' all; 's' skip file; 'h' help; '^C' quit):
    </code></pre>

    <p>
    Just press `1` and return (enter), and the TODO is going to get reported:
    </p>

    <pre><code class = "language-rust">
[reporting mode]

[detected project]: https://github.com/rakivo/rok

[todoʼs from]: rok_frontend/src/parser.rs

1. [line 1662]: Warn if a c string literal already ends with \0

selection (e.g. 1,2; 'a' all; 's' skip file; 'h' help; '^C' quit): 1
[master 24dce81] Add TODO(#341): Warn if a c string literal already ends with \0
 1 file changed, 1 insertion(+), 1 deletion(-)
[1/1] todoʼs reported
    </code></pre>

    <p>
    A video of me using
      <a href="https://github.com/rakivo/stalkr" target="_blank" rel="noopener noreferrer" class="project-link">
          Stalkr
      </a> to report TODO's while I was programming

      <a href="https://github.com/rakivo/brik" target="_blank" rel="noopener noreferrer" class="project-link">
        brik
      </a>
    </p>

    <p class="placeholder">Tap on the video to fullscreen</p>
    <video class="demo-video" autoplay loop muted playsinline>
      <source src="./assets/stalkr.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>

    <p class="placeholder">
    The bug with `0 insertions` is already fixed btw .. :D
    </p>
  </div>
</div>

<div class="project">
  <h3>
    5.
    <a href="https://github.com/rakivo/rush" target="_blank" rel="noopener noreferrer" class="project-link">
      Rush
    </a> — Rust-based build system inspired by Ninja
  </h3>
  <p>
A Rust-based build system inspired by Ninja. Rush executes build scripts efficiently, sometimes matching or exceeding Ninja's speed on typical workloads.
It demonstrates parallelism, minimal overhead, and custom build pipeline design.
  </p>
  <div class="toggle-button" onclick="toggleContent(this)">Show / Hide Build Script Example</div>
  <div class="content">
  <pre><code class = "language-ninja">
cflags = -std=gnu99 -Wall -Wextra -O3
builddir = build

phony all
build all: $builddir/main run

rule cc
  depfile = $out.d
  command = gcc -MD -MF $out.d $cflags -o $out -c $in

rule link
  command = cc $cflags -o $out $in

build $builddir/foo.o: cc foo.c
build $builddir/bar.o: cc bar.c
build $builddir/main.o: cc main.c

build $builddir/main: link $builddir/foo.o $
                           $builddir/bar.o $
                           $builddir/main.o
  cflags = -std=gnu99 -O2

phony run
build run:
  command = ./$builddir/main

phony clean
build clean:
  command = rm -f $builddir/*
  </code></pre>

    <p>
    Me showcasing
    <a href="https://github.com/rakivo/rush" target="_blank" rel="noopener noreferrer" class="project-link">Rush</a>
    building

    <a href="https://en.wikipedia.org/wiki/Ninja_(build_system)" target="_blank" rel="noopener noreferrer" class="project-link">Ninja</a>

    and

    <a href="https://en.wikipedia.org/wiki/Lua" target="_blank" rel="noopener noreferrer" class="project-link">Lua</a>
    </p>

    <p class="placeholder">Tap on the video to fullscreen</p>
    <video class="demo-video" autoplay loop muted playsinline>
      <source src="./assets/rush.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
</div>

</section>

<section id="other-projects">
  <h2>
    <a href="#other-projects" class="anchor-link">Other projects</a>
  </h2>

  <ul>
    <li><strong><a href="https://github.com/rakivo/raylib-wasm" target="_blank">raylib-WASM</a>:</strong> A Rust crate that allows seamless execution of your Raylib games in-browser via pure WASM (no Emscripten) as well as natively. Implements a subset of raylib; Contributions welcome - submit a PR to extend raylib coverage.</li>
    <li><strong><a href="https://github.com/rakivo/vmz" target="_blank">vmz</a>:</strong> An experimental stack-based virtual machine written in Zig, with its own assembly-like language that can be compiled to NASM.</li>
  </ul>
  <p class="placeholder">
    I've worked on many other projects not shown here - feel free to explore them on my <a href="https://github.com/rakivo" target="_blank">GitHub page</a>.
  </p>
</section>

<section id="skills">
  <h2>
    <a href="#skills" class="anchor-link">Skills</a>
  </h2>

  <ul>
    <li>Expert in Rust, C, familiar with C++, Zig, and other low-level systems programming languages.</li>
    <li>Designed and implemented multiple compilers and virtual machines.</li>
    <li>Strong understanding of data-oriented design and cache-friendly algorithms.</li>
    <li>Experienced with x86_64 and RISC-V assembly and ELF object file encoding.</li>
    <li>Proficient with Git, Cargo, and CI/CD pipelines.</li>
  </ul>
</section>

<hr>

<h2>
  <a href="#other-achievements" class="anchor-link">Other Achievements</a>
</h2>
<ul>
  <li>400+ <a href="https://leetcode.com/marktyrkba" target="_blank">LeetCode</a> problems solved; 1602 contest rating</li>
  <li>Placed top-3 in regional programming olympiads</li>
</ul>

<hr>

<section id="contact">
  <h2>
    <a href="#contact" class="anchor-link">Contact</a>
  </h2>
  <ul>
    <li><strong>Email:</strong> <a href="mailto:marktyrkba456@gmail.com">marktyrkba456@gmail.com</a></li>
    <li><strong>GitHub:</strong> <a href="https://github.com/rakivo" target="_blank">https://github.com/rakivo</a></li>
    <li><strong>Codeberg:</strong> <a href="https://codeberg.org/rakivo" target="_blank">https://codeberg.org/rakivo</a></li>
    <li><strong>Telegram:</strong> <a href="https://t.me/rakivo88" target="_blank">@rakivo88</a> — updates, releases, and occasional thoughts</li>
  </ul>
</section>

<section id="demo-media">
<h2>
  <a href="#demo-media" class="anchor-link">Demo / Media</a>
</h2>
  <p class="placeholder">
    This section will soon showcase demo videos, screenshots, GIFs, and other project media.
  </p>

  <p class="placeholder">
    But for now, enjoy "Handmade Hero - Announcement Trailer", an insanely inspiring video by legendary Casey Muratori.
  </p>

  <div class="video-wrapper">
    <iframe src="https://www.youtube.com/embed/A2dxjOjWHxQ?si=lQazQrI0DN9dm4ZI" title="Handmade Hero – Announcement Trailer" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  </div>
</section>
<hr>

<script>
document.addEventListener('DOMContentLoaded', () => {
  if (window.location.hash) {
    const targetId = window.location.hash.slice(1);
    const targetEl = document.getElementById(targetId);
    if (targetEl) {
      window.scrollTo(0, 0);
      setTimeout(() => {
        targetEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }, 150);
    }
  }

  document.querySelectorAll('.anchor-link').forEach(link => {
    link.addEventListener('click', async e => {
      const href = link.getAttribute('href');
      const targetId = href.startsWith('#') ? href.slice(1) : null;
      const targetEl = targetId ? document.getElementById(targetId) : null;

      if (targetEl) {
        e.preventDefault();
        window.history.pushState(null, '', href);
        targetEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      const url = `${window.location.origin}${window.location.pathname}${href}`;
      try { await navigator.clipboard.writeText(url); } catch {}

      const toast = document.createElement('div');
      toast.textContent = 'Link copied';
      Object.assign(toast.style, {
        position: 'absolute',
        padding: '6px 10px',
        background: 'rgba(60, 60, 60, 0.9)',
        color: '#fff',
        fontSize: '12px',
        borderRadius: '8px',
        backdropFilter: 'blur(6px)',
        boxShadow: '0 2px 6px rgba(0, 0, 0, 0.2)',
        opacity: '0',
        transform: 'scale(0.95) translateY(-6px)',
        transition: 'opacity 0.3s ease, transform 0.3s ease',
        pointerEvents: 'none',
        whiteSpace: 'nowrap',
        zIndex: '9999'
      });

      document.body.appendChild(toast);
      const linkRect = link.getBoundingClientRect();
      const top = window.scrollY + linkRect.top - 30;
      const left = window.scrollX + linkRect.left + linkRect.width / 2;
      requestAnimationFrame(() => {
        const width = toast.offsetWidth;
        toast.style.left = `${left - width / 2}px`;
        toast.style.top = `${top}px`;
        toast.style.opacity = '1';
        toast.style.transform = 'scale(1) translateY(-10px)';
      });
      setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transform = 'scale(0.95) translateY(-6px)';
        setTimeout(() => toast.remove(), 300);
      }, 1500);
    });
  });
});

document.querySelectorAll('.demo-video').forEach(video => {
  video.addEventListener('click', () => {
    if (video.requestFullscreen) {
      video.requestFullscreen();
    } else if (video.webkitRequestFullscreen) {
      video.webkitRequestFullscreen();
    } else if (video.msRequestFullscreen) {
      video.msRequestFullscreen();
    }
  });
});

function toggleContent(button) {
  const content = button.nextElementSibling;
  const isOpen = content.classList.toggle('open');
  button.classList.toggle('open');

  if (isOpen) {
    content.style.maxHeight = content.scrollHeight + "px";
    content.style.opacity = 1;
  } else {
    content.style.maxHeight = null;
    content.style.opacity = 0;
  }
}
</script>

</body>
</html>
